<template>
  <section class="py-20">
    <div class="container mx-auto px-4 min-h-screen">
      <div class="max-w-2xl mx-auto">
        <nuxt-content :document="content" class="prose" />
      </div>
      <div v-if="!!error" class="mt-60 p-20 bg-secondary prose">
        <h3>
          Page not found
          <div class="btn btn-ghost" @click="$router.push('/')">
            ‚Üê Go back
          </div>
        </h3>
      </div>
    </div>
  </section>
</template>

<script>
export default {
  transition: 'fade',
  data () {
    return {
      content: {},
      error: null
    }
  },
  async fetch () {
    const { page } = this.$route.params
    try {
      this.content = await this.$content('pages/' + page).fetch()
    } catch {
      this.error = true
    }
  }
}
</script>
